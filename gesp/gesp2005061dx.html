<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>202506 1 单选题</title>
  <link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism.css" rel="stylesheet"/>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    .description { background: #f9f9f9; border: 1px solid #ddd; padding: 10px; margin-bottom: 20px; border-radius: 5px; overflow-x: auto; }
    .question { margin-bottom: 20px; }
    button { margin-top: 10px; padding: 8px 12px; }
    .correct { color: green; font-weight: bold; }
    .wrong { color: red; font-weight: bold; }

    /* 进度条样式 */
    .progress-container {
      width: 100%;
      background-color: #f3f3f3;
      border-radius: 20px;
      margin-top: 15px;
      height: 25px;
      box-shadow: inset 0 1px 3px rgba(0,0,0,0.2);
    }
    .progress-bar {
      height: 100%;
      border-radius: 20px;
      text-align: center;
      line-height: 25px;
      color: white;
      font-weight: bold;
      width: 0%;
      transition: width 1s ease-in-out;
    }

    /* 倒计时 */
    #timer {
      font-size: 18px;
      font-weight: bold;
      margin-bottom: 20px;
      color: darkblue;
    }
  </style>
</head>
<body>
  <h1>1 单选题（每题 2 分，共 30 分）</h1>

  <!-- 倒计时显示 -->
  <div id="timer">剩余时间：20:00</div>

<!-- 程序描述区 -->
<!--
  <div class="description">
<pre><code class="language-javascript">
</code></pre>
  </div>
-->

  <!-- 题目区域 -->
  <div id="quiz"></div>
  <button onclick="submitQuiz()">提交答案</button>

  <h2 id="result"></h2>
  <div class="progress-container">
    <div id="progress-bar" class="progress-bar">0%</div>
  </div>

  <!-- Prism 高亮库 -->
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-javascript.min.js"></script>

  <script>
    // 题目数据，增加程序段  code: "" 一行  code: ``多行
    const questions = [
     
      {
        text: "第 1 题 2025年4⽉19⽇在北京举⾏了⼀场颇为瞩⽬的⼈形机器⼈半程马拉松赛。⽐赛期间，跑动着的机器⼈会利⽤⾝上安装的多个传感器所反馈的数据来调整姿态、保持平衡等，那么这类传感器类似于计算机的( )。",
        options: [
          { text: "A. 处理器", code: "" },
          { text: "B. 存储器", code: "" },
          { text: "C. 输⼊设备", code: "" },
          { text: "D. 输出设备", code:"" }
        ],
        answer: [2],
        rule: "all",
        score: 2,
        code: `` // 没有代码
      },
      {
        text: "第 2 题 在某集成开发环境中调试下⾯代码段时尝试设置断点和检查局部变量，下⾯哪个说法是错误的（ ）。",
        options: [
          { text: "A. 断点不可以设在L1标记的代码⾏", code: "" },
          { text: "B. 执⾏暂停在L2标记的代码⾏时，可以检测i的值", code: "" },
          { text: "C. 执⾏暂停在L3标记的代码⾏时，可以修改i的值", code: "" },
          { text: "D. 执⾏有可能暂停在L4标记的代码⾏", code:"" }
        ],
        answer: [0],
        rule: "all",
        score: 2,
        code: `int i,N = 0; // L1
cin >> N; // L2
for (i = 1; i < 9; i++)
    if (N % i == 0) break;  // L3
if (i < 9)
    printf("N不能大于9\\n"); // L4
`
      },
      {
        text: "第 3 题 对下列C++的代码，描述准确的是( )。",
        options: [
          { text: "A. 执⾏后输出10", code: "" },
          { text: "B. 执⾏后输出 {First}", code: "" },
          { text: "C. 执⾏后输出 \" {First} \"", code: "" },
          { text: "D. 编译报错，因为First应该是first", code:"" }
        ],
        answer: [3],
        rule: "all",
        score: 2,
        code: `int first = 10;
printf("{%d}\\n", First)
`
      },
      {
        text: "第 4 题 在C++中，下列可以做变量名的是( )。",
        options: [
          { text: "A. X.cpp", code: "" },
          { text: "B. X-cpp", code: "" },
          { text: "C. X#cpp", code: "" },
          { text: "D. X_cpp", code:"" }
        ],
        answer: [3],
        rule: "all",
        score: 2,
        code: `` // 没有代码
      },

 {
        text: "第 5 题 C++表达式 14-3*3%2 的值是( )。",
        options: [
          { text: "A. 0", code: "" },
          { text: "B. 11", code: "" },
          { text: "C. 13", code: "" },
          { text: "D. -67", code:"" }
        ],
        answer: [2],
        rule: "all",
        score: 2,
        code: `` // 没有代码
      },
      {
        text: "第 6 题 下⾯的C++代码执⾏后，其输出是( )。",
        options: [
          { text: "A. 10 20", code: "" },
          { text: "B. 20 10", code: "" },
          { text: "C. 10 10", code: "" },
          { text: "D. 20 20", code:"" }
        ],
        answer: [1],
        rule: "all",
        score: 2,
        code: `int x = 10, y = 20;
x = x + y;
y = x - y;
x = x - y;
cout << x << ' ' << y;
` 
      },

 {
        text: "第 7 题 定义整型变量 int a=16 ，则执⾏ ++a += 3 之后，a的值会是（ ）。",
        options: [
          { text: "A. 3", code: "" },
          { text: "B. 17", code: "" },
          { text: "C. 19", code: "" },
          { text: "D. 20", code:"" }
        ],
        answer: [3],
        rule: "all",
        score: 2,
        code: `` // 没有代码
      },
      {
        text: "第 8 题 C++的 int 类型变量 X 的值为8，如果执⾏ cout << (++X)++; ，则输出和执⾏后 X 的值分别是（ ）。",
        options: [
          { text: "A. 8 9", code: "" },
          { text: "B. 9 9", code: "" },
          { text: "C. 9 10", code: "" },
          { text: "D. 编译错误，⽆法执⾏", code:"" }
        ],
        answer: [2],
        rule: "all",
        score: 2,
        code: `` // 没有代码
      },
 {
        text: "第 9 题 下⾯C++代码执⾏后的输出是（ ）。",
        options: [
          { text: "A. a+b=07#a+b={a+b}", code: "" },
          { text: "B. a+b= 7#a+b=7", code: "" },
          { text: "C. a+b=7#a+b={a+b}", code: "" },
          { text: "D. a+b=7#a+b=7", code:"" }
        ],
        answer: [0],
        rule: "all",
        score: 2,
        code: `int a,b;
a = 3;
b = 4;
printf("a+b=%02d#a+b={a+b}", a+b, a+b);
` 
      },
      {
        text: "第 10 题 下⾯的C++代码⽤于求M天后是星期⼏，两处横线处分别应填⼊的代码是（ ）。",
        options: [
          { text: "A. ", code: `(N + M) / 7
D == 0`},
          { text: "B. ", code: `(N + M) % 7
D == 0` },
          { text: "C. ", code: `(N + M) / 7
D <= 0` },
          { text: "D. ", code:`(N + M) % 7
D = 0` }
        ],
        answer: [1],
        rule: "all",
        score: 2,
        code: `int N, M, D;
cout << "当前星期几? "; // 星期日是0
cin >> N;
cout << "求多少天后? "; // 输入正整数
cin >> M;
D = ____________;
if (____________)
    printf("%d天后是星期日", M);
else
    printf("%d天后是星期%d", M, D);
` // 没有代码
      },
 {
        text: "第 11 题 下⾯C++代码执⾏后输出是（ ）。",
        options: [
          { text: "A. END", code: "" },
          { text: "B. 1#", code: "" },
          { text: "C. 1#4#END", code: "" },
          { text: "D. 1#4#7#10#END", code:"" }
        ],
        answer: [0],
        rule: "all",
        score: 2,
        code: `int i;
for (i = 1; i < 11; i += 3){
    continue;
    if (i % 2 == 0)
        break;
    printf("%d#", i);
}
if (i >= 11)
    printf("END");
` 
      },
      {
        text: "第 12 题 下⾯的C++代码⽤于求N的所有因数（即能将N整除的数），如输⼊12则将输出 12,6,4,3,2,1 。（ ）。",
        options: [
          { text: "A. i -= 1", code: "" },
          { text: "B. i == 1", code: "" },
          { text: "C. i > 1", code: "" },
          { text: "D. i >= 1", code:"" }
        ],
        answer: [2],
        rule: "all",
        score: 2,
        code: `int i, N;
cin >> N;
i = N;
while (_______){
    if (N % i == 0)
        printf("%d,", i);
    i -= 1;
}
printf("1");
` 
      },
      {
        text: "第 13 题 下⾯C++代码执⾏后输出的是（ ）。",
        options: [
          { text: "A. 55", code: "" },
          { text: "B. 15", code: "" },
          { text: "C. 9", code: "" },
          { text: "D. 4", code:"" }
        ],
        answer: [3],
        rule: "all",
        score: 2,
        code: `int Sum = 0;
for (int i = 0; i < 10; i++){
    if (i % 2 == 0)
        continue;
    if (i % 5 == 0)
        break;
    Sum += i;
}
cout << Sum;
` 
      },
      {
        text: "第 14 题 试图编译并执⾏下⾯C++代码，下⾯描述正确的是（ ）。",
        options: [
          { text: "A. 输出 101", code: "" },
          { text: "B. 输出 102", code: "" },
          { text: "C. 输出 103", code: "" },
          { text: "D. 编译将报错，⽆法执⾏", code:"" }
        ],
        answer: [2],
        rule: "all",
        score: 2,
        code: `float x;
x = 101;
x++;
cout << ++x;
` 
      },
      {
        text: "第 15 题 以下C++代码可以找出百位、⼗位和个位满⾜特定条件的三位数，横线处应该填⼊的是（ ）。",
        options: [
          { text: "A. int b = (i / 10) / 10;", code: "" },
          { text: "B. int b = (i / 10) % 10;", code: "" },
          { text: "C. int b = (i % 10) / 10;", code: "" },
          { text: "D. int b = (i % 10) % 10;", code:"" }
        ],
        answer: [1],
        rule: "all",
        score: 2,
        code: `int count = 0;
for (int i = 100; i <= 999; i++) {
    int a = i / 100;
    _________________________
    int c = i % 10;
    if (a * a + b * b == c * c) {
        count++;
   }
}
` 
      }

    ];

    // 渲染题目
    const quizDiv = document.getElementById("quiz");
    questions.forEach((q, i) => {
      const div = document.createElement("div");
      div.className = "question";
      const isMulti = q.answer.length > 1 || q.rule === "any";

      // 每道题目的内容，包括题目、代码段和选择题选项
      div.innerHTML = `<p id="q${i}-text">${q.text} <small>（${q.score}分）</small></p>` 
        + (q.code ? `<pre><code class="language-javascript">${q.code}</code></pre>` : "")  // 显示代码框，只有代码不为空时
        + q.options.map((opt, j) => {
          return `<label>
                    <input type="${isMulti ? "checkbox" : "radio"}" name="q${i}" value="${j}">
                    ${opt.text} 
                    ${opt.code ? `<pre><code class="language-javascript">${opt.code}</code></pre>` : ""}
                  </label><br>`;
        }).join("") 
        + `<p class="feedback" id="feedback${i}"></p>`;
      
      // 将渲染的题目添加到 quizDiv 中
      quizDiv.appendChild(div);
    });

    // 提交判分
    function submitQuiz(auto=false) {
      let totalScore = 0;
      let maxScore = questions.reduce((sum, q) => sum + q.score, 0);

      questions.forEach((q, i) => {
        const selected = Array.from(document.querySelectorAll(`input[name="q${i}"]:checked`)).map(el => parseInt(el.value));
        let isCorrect = false;

        if (q.rule === "all") {
          isCorrect = selected.length === q.answer.length &&
                      selected.every(val => q.answer.includes(val));
        } else if (q.rule === "any") {
          const hasCorrect = selected.some(val => q.answer.includes(val));
          const hasWrong = selected.some(val => !q.answer.includes(val));
          isCorrect = hasCorrect && !hasWrong;
        }

        if (isCorrect) totalScore += q.score;

        const correctText = q.answer.map(idx => q.options[idx].text).join("，");
        document.getElementById(`feedback${i}`).innerHTML = isCorrect
          ? `<span class="correct">✔ 回答正确，得 ${q.score} 分</span>（正确答案：${correctText}）`
          : `<span class="wrong">✘ 回答错误，得 0 分</span>（正确答案：${correctText}）`;
      });

      document.getElementById("result").innerText =
        (auto ? "⏰ 时间到，已自动提交！ " : "") +
        `最终得分：${totalScore} / ${maxScore}`;

      const percent = Math.round((totalScore / maxScore) * 100);
      const progressBar = document.getElementById("progress-bar");
      progressBar.style.width = percent + "%";
      progressBar.innerText = percent + "%";

      if (percent < 50) {
        progressBar.style.backgroundColor = "red";
      } else if (percent < 80) {
        progressBar.style.backgroundColor = "orange";
      } else {
        progressBar.style.backgroundColor = "green";
      }

      // 停止计时
      clearInterval(timerInterval);
    }

    // 倒计时逻辑
    let timeLeft = 1200; // 秒
    const timerDiv = document.getElementById("timer");

    function formatTime(seconds) {
      const m = String(Math.floor(seconds / 60)).padStart(2, "0");
      const s = String(seconds % 60).padStart(2, "0");
      return `${m}:${s}`;
    }

    const timerInterval = setInterval(() => {
      timeLeft--;
      timerDiv.innerText = `剩余时间：${formatTime(timeLeft)}`;
      if (timeLeft <= 0) {
        clearInterval(timerInterval);
        submitQuiz(true); // 自动提交
      }
    }, 1000);

    // 初始化显示
    timerDiv.innerText = `剩余时间：${formatTime(timeLeft)}`;
  </script>
</body>
</html>